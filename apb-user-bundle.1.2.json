{
  "manifests": {
    "apb/user-bundle": {
      "manifest": {
        "bundles": {
          "Apb\\UserBundle\\ApbUserBundle": [
            "all"
          ]
        },
        "copy-from-recipe": {
          "config/": "%CONFIG_DIR%"
        },
        "env": {
          "MAILER_SENDER": "Alfredo@feelity.test.fr"
        },
        "gitignore": [
          "/%CONFIG_DIR%/jwt/*.pem"
        ],
        "post-install-output": [
          "  1. <bg=magenta;fg=white> Create jwt keys </>",
          "    * php bin/console lexik:jwt:generate-keypair --overwrite",
          "",
          "  2. <bg=magenta;fg=white> Update the database schema </>",
          "    * php bin/console d:s:u --force",
          ""
        ]
      },
      "add-lines":[
        {
          "file": "config/packages/security.yaml",
          "position": "after_target",
          "warn_if_missing": true,
          "target": "    firewalls:",
          "content": "        login:\n            pattern: ^/login\n            stateless: true\n            json_login:\n                check_path: /login_check\n                success_handler: lexik_jwt_authentication.handler.authentication_success\n                failure_handler: lexik_jwt_authentication.handler.authentication_failure\n\n        api:\n            pattern:   ^/api\n            stateless: true\n            jwt: ~"
        }
      ],
      "files": {
        "script/install.yaml": {
          "contents": [
            "#!/bin/bash",
            "php bin/console lexik:jwt:generate-keypair --overwrite",
            "php bin/console d:s:u --force"
          ],
          "executable": false
        },
        "config/routes/apb-user-bundle.yaml": {
          "contents": [
            "apb-user-bundle.routes:",
            "   resource: '@ApbUserBundle/config/routes.yaml'",
            "\n",
            "api_login_check:",
            "   path: /login_check"
          ],
          "executable": false
        }
      },
      "ref": "c82bca82650b2d76b43021b9b8479eb0b343c56d"
    }
  }
}